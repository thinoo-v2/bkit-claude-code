# bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™© ìë™ ë³´ê³  ê¸°ëŠ¥ ì„¤ê³„ì„œ

> **Summary**: AI Agentê°€ ë§¤ ë‹µë³€ ëì— bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©ì„ ìë™ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ê¸°ëŠ¥ ì„¤ê³„
>
> **Project**: bkit Vibecoding Kit
> **Version**: v1.4.1 (ì˜ˆì •)
> **Author**: bkit Team
> **Date**: 2026-01-24
> **Status**: Implemented
> **Planning Doc**: [bkit-usage-report-auto-display.plan.md](../01-plan/features/bkit-usage-report-auto-display.plan.md)

---

## 1. Overview

### 1.1 Design Goals

ê³„íšì„œì˜ ëª©ì  ë‹¬ì„±ì„ ìœ„í•´ ë‹¤ìŒì„ ì„¤ê³„:
1. SessionStart hookì˜ additionalContextì— ë³´ê³  ê·œì¹™ ì¶”ê°€ (Claude Code)
2. GEMINI.mdì— ë™ì¼í•œ ë³´ê³  ê·œì¹™ ì¶”ê°€ (Gemini CLI)
3. ì–‘ í”Œë«í¼ì—ì„œ ì¼ê´€ëœ ë³´ê³  í˜•ì‹ ì œê³µ

### 1.2 í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„

#### 1.2.1 bkit í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°

```
bkit-claude-code/
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ hooks.json              # Claude Code hook ë“±ë¡
â”‚   â””â”€â”€ session-start.js        # [ìˆ˜ì • ëŒ€ìƒ #1] additionalContext ìƒì„±
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ common.js               # ê³µí†µ í•¨ìˆ˜ (getPdcaStatusFull ë“±)
â”œâ”€â”€ agents/                     # 11ê°œ Agent ì •ì˜
â”œâ”€â”€ commands/                   # 20ê°œ Command ì •ì˜
â”œâ”€â”€ skills/                     # 18ê°œ Skill ì •ì˜
â”œâ”€â”€ scripts/                    # 26ê°œ Hook ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ gemini-extension.json       # Gemini CLI í™•ì¥ ì„¤ì •
â””â”€â”€ GEMINI.md                   # [ìˆ˜ì • ëŒ€ìƒ #2] Gemini CLI ê·œì¹™ íŒŒì¼
```

#### 1.2.2 ë³´ê³  ëŒ€ìƒ bkit ê¸°ëŠ¥ ì „ì²´ ëª©ë¡

**Agents (11ê°œ)**
| Agent | íŠ¸ë¦¬ê±° í‚¤ì›Œë“œ | ì„¤ëª… |
|-------|-------------|------|
| gap-detector | ê²€ì¦, verify | Gap ë¶„ì„ ì‹¤í–‰ |
| pdca-iterator | ê°œì„ , improve | ìë™ ê°œì„  ë°˜ë³µ |
| code-analyzer | ë¶„ì„, analyze | ì½”ë“œ í’ˆì§ˆ ë¶„ì„ |
| report-generator | ë³´ê³ ì„œ, report | ì™„ë£Œ ë³´ê³ ì„œ ìƒì„± |
| starter-guide | ë„ì›€, help | ì´ˆë³´ì ê°€ì´ë“œ |
| design-validator | ì„¤ê³„ ê²€ì¦ | ì„¤ê³„ ë¬¸ì„œ ê²€ì¦ |
| qa-monitor | QA, test | Zero Script QA |
| pipeline-guide | íŒŒì´í”„ë¼ì¸ | 9ë‹¨ê³„ ê°€ì´ë“œ |
| bkend-expert | BaaS | bkend.ai ì „ë¬¸ê°€ |
| enterprise-expert | ì—”í„°í”„ë¼ì´ì¦ˆ | ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ |
| infra-architect | ì¸í”„ë¼ | AWS/K8s ì„¤ê³„ |

**Commands (20ê°œ)**
| Category | Commands |
|----------|----------|
| PDCA | /pdca-plan, /pdca-design, /pdca-analyze, /pdca-report, /pdca-next, /pdca-status, /pdca-iterate |
| Pipeline | /pipeline-start, /pipeline-next, /pipeline-status |
| Init | /init-starter, /init-dynamic, /init-enterprise |
| Utility | /archive, /upgrade-level, /github-stats |
| Learning | /learn-claude-code, /setup-claude-code, /upgrade-claude-code |
| QA | /zero-script-qa |

**Skills (18ê°œ)**
| Category | Skills |
|----------|--------|
| Level | starter, dynamic, enterprise |
| Platform | mobile-app, desktop-app |
| Pipeline | phase-1-schema ~ phase-9-deployment (9ê°œ) |
| Core | bkit-rules, bkit-templates, development-pipeline, zero-script-qa |

**Task System**
| Tool | ìš©ë„ |
|------|------|
| TaskCreate | ì‘ì—… ìƒì„± |
| TaskUpdate | ìƒíƒœ/ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸ |
| TaskList | ì‘ì—… ëª©ë¡ ì¡°íšŒ |
| TaskGet | ì‘ì—… ìƒì„¸ ì¡°íšŒ |

**Hooks**
| Event | Script | ìš©ë„ |
|-------|--------|------|
| SessionStart | session-start.js | ì„¸ì…˜ ì‹œì‘ ì»¨í…ìŠ¤íŠ¸ |
| PreToolUse | pre-write.js | ì“°ê¸° ì „ ê²€ì¦ |
| PostToolUse | pdca-post-write.js | ì“°ê¸° í›„ ìƒíƒœ ì—…ë°ì´íŠ¸ |

---

## 2. Architecture

### 2.1 í”Œë«í¼ë³„ êµ¬í˜„ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    bkit v1.4.1 ê¸°ëŠ¥ ë³´ê³  êµ¬í˜„                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     Claude Code CLI     â”‚    â”‚       Gemini CLI            â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                         â”‚    â”‚                             â”‚ â”‚
â”‚  â”‚  hooks/session-start.js â”‚    â”‚  GEMINI.md                  â”‚ â”‚
â”‚  â”‚  (additionalContext)    â”‚    â”‚  (context.file)             â”‚ â”‚
â”‚  â”‚                         â”‚    â”‚                             â”‚ â”‚
â”‚  â”‚  Line 336 ì´í›„ì— ì¶”ê°€:  â”‚    â”‚  ìƒˆ ì„¹ì…˜ ì¶”ê°€:              â”‚ â”‚
â”‚  â”‚  - ë³´ê³  í˜•ì‹ í…œí”Œë¦¿     â”‚    â”‚  ## Response Report Rule    â”‚ â”‚
â”‚  â”‚  - ê¸°ëŠ¥ ëª©ë¡            â”‚    â”‚  - ë™ì¼í•œ ê·œì¹™              â”‚ â”‚
â”‚  â”‚  - PDCA ë‹¨ê³„ë³„ ì¶”ì²œ     â”‚    â”‚  - ê¸°ëŠ¥ ëª©ë¡                â”‚ â”‚
â”‚  â”‚                         â”‚    â”‚  - ì¶”ì²œ ë¡œì§                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                              â”‚                       â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                AI Agent ë§¤ ë‹µë³€ ëì— ë³´ê³                     â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚ â”‚
â”‚  â”‚  ğŸ“Š bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©                                      â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚ â”‚
â”‚  â”‚  âœ… ì‚¬ìš©: [ê¸°ëŠ¥ ëª©ë¡]                                        â”‚ â”‚
â”‚  â”‚  â­ï¸ ë¯¸ì‚¬ìš©: [ê¸°ëŠ¥] (ì´ìœ )                                    â”‚ â”‚
â”‚  â”‚  ğŸ’¡ ì¶”ì²œ: [ë‹¤ìŒ ì‘ì—… ê¸°ëŠ¥]                                   â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 session-start.js í˜„ì¬ êµ¬ì¡° ë¶„ì„

**íŒŒì¼**: `hooks/session-start.js` (353í–‰)

```
Line 1-33:    ëª¨ë“ˆ import ë° ì„¤ì •
Line 34-56:   í”Œë«í¼ ê°ì§€ ë° ì´ˆê¸°í™”
Line 57-77:   detectPdcaPhase() í•¨ìˆ˜
Line 78-153:  enhancedOnboarding() í•¨ìˆ˜
Line 154-196: analyzeRequestAmbiguity() í•¨ìˆ˜
Line 197-225: getTriggerKeywordTable() í•¨ìˆ˜
Line 226-241: í™˜ê²½ë³€ìˆ˜ ì„¤ì •
Line 243-290: Gemini CLI ì¶œë ¥ (isGeminiCli ë¶„ê¸°)
Line 292-353: Claude Code ì¶œë ¥ (additionalContext ìƒì„±) â† ìˆ˜ì • ëŒ€ìƒ
```

**additionalContext ìƒì„± ìœ„ì¹˜ (Line 297-336)**:
```javascript
// Line 297
let additionalContext = `# bkit Vibecoding Kit v1.4.0 - Session Startup\n\n`;

// ... ê¸°ì¡´ ê·œì¹™ë“¤ ì¶”ê°€ ...

// Line 336
additionalContext += `ğŸ’¡ Important: AI Agent is not perfect...`;

// â† ì—¬ê¸°(Line 336 ì´í›„)ì— ë³´ê³  ê·œì¹™ ì¶”ê°€
```

---

## 3. Detailed Design

### 3.1 ë³´ê³  í˜•ì‹ ì •ì˜

#### 3.1.1 ê¸°ë³¸ í…œí”Œë¦¿

```markdown
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ì‚¬ìš©: [ì´ë²ˆ ë‹µë³€ì—ì„œ ì‚¬ìš©í•œ bkit ê¸°ëŠ¥ë“¤]
â­ï¸ ë¯¸ì‚¬ìš©: [ì£¼ìš” ë¯¸ì‚¬ìš© ê¸°ëŠ¥] (ì´ìœ )
ğŸ’¡ ì¶”ì²œ: [ë‹¤ìŒ ì‘ì—…ì— ì í•©í•œ ê¸°ëŠ¥]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

#### 3.1.2 ë³´ê³  ê·œì¹™

| ê·œì¹™ | ì„¤ëª… |
|------|------|
| í•„ìˆ˜ | ëª¨ë“  ë‹µë³€ ëì— ë³´ê³  í‘œì‹œ |
| ëŒ€ìƒ | bkit ê´€ë ¨ ê¸°ëŠ¥ë§Œ (ì¼ë°˜ ë„êµ¬ Read/Write/Bash ì œì™¸ ê°€ëŠ¥) |
| ë¯¸ì‚¬ìš© | ì™œ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ëŠ”ì§€ ê°„ë‹¨íˆ ì„¤ëª… |
| ì¶”ì²œ | í˜„ì¬ PDCA ë‹¨ê³„ì— ë§ëŠ” ë‹¤ìŒ ê¸°ëŠ¥ ì œì•ˆ |

### 3.2 PDCA ë‹¨ê³„ë³„ ì¶”ì²œ ë¡œì§

| í˜„ì¬ ìƒíƒœ | ì¶”ì²œ ê¸°ëŠ¥ |
|----------|----------|
| PDCA ì—†ìŒ | "ê¸°ëŠ¥ ê°œë°œ ì‹œ /pdca-planìœ¼ë¡œ ì‹œì‘" |
| Plan ì™„ë£Œ | "/pdca-designìœ¼ë¡œ ì„¤ê³„ ë‹¨ê³„ ì§„í–‰" |
| Design ì™„ë£Œ | "êµ¬í˜„ ì‹œì‘ ë˜ëŠ” /pdca-nextë¡œ ê°€ì´ë“œ" |
| Do ì™„ë£Œ | "/pdca-analyzeë¡œ Gap ë¶„ì„" |
| Check < 90% | "/pdca-iterateë¡œ ìë™ ê°œì„ " |
| Check â‰¥ 90% | "/pdca-reportë¡œ ì™„ë£Œ ë³´ê³ ì„œ" |
| ì¼ë°˜ ì§ˆë¬¸ | "ê¸°ëŠ¥ ê°œë°œ ì‹œ /pdca-planìœ¼ë¡œ ì‹œì‘" |

### 3.3 ê¸°ëŠ¥ ì¹´í…Œê³ ë¦¬ë³„ í‘œì‹œ ìš°ì„ ìˆœìœ„

| ìš°ì„ ìˆœìœ„ | ì¹´í…Œê³ ë¦¬ | í•­ìƒ í‘œì‹œ |
|:--------:|----------|:--------:|
| 1 | PDCA Commands (/pdca-*) | âœ… |
| 2 | Task System (TaskCreate/Update/List) | âœ… |
| 3 | Agents (gap-detector, pdca-iterator ë“±) | âœ… |
| 4 | Skills (phase-*, starter ë“±) | ì‚¬ìš© ì‹œ |
| 5 | Pipeline/Init Commands | ì‚¬ìš© ì‹œ |
| 6 | AskUserQuestion | ì‚¬ìš© ì‹œ |
| 7 | Hooks (SessionStart ë“±) | ê´€ë ¨ ì‹œ |

---

## 4. Implementation Specification

### 4.1 session-start.js ìˆ˜ì •

#### 4.1.1 ìˆ˜ì • ìœ„ì¹˜

**íŒŒì¼**: `hooks/session-start.js`
**ìœ„ì¹˜**: Line 336 ì´í›„ (additionalContext ë§ˆì§€ë§‰ ë¶€ë¶„)

#### 4.1.2 ì¶”ê°€í•  ì½”ë“œ

```javascript
  // ============================================================
  // v1.4.1: bkit ê¸°ëŠ¥ í˜„í™© ë³´ê³  ê·œì¹™ (Response Report Rule)
  // ============================================================
  additionalContext += `

## ğŸ“Š bkit ê¸°ëŠ¥ í˜„í™© ë³´ê³  (v1.4.1 - ëª¨ë“  ë‹µë³€ í•„ìˆ˜)

**ê·œì¹™: ëª¨ë“  ë‹µë³€ ëì— ì•„ë˜ í˜•ì‹ìœ¼ë¡œ bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©ì„ ë³´ê³ í•©ë‹ˆë‹¤.**

\`\`\`
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ì‚¬ìš©: [ì´ë²ˆ ë‹µë³€ì—ì„œ ì‚¬ìš©í•œ bkit ê¸°ëŠ¥ë“¤]
â­ï¸ ë¯¸ì‚¬ìš©: [ì£¼ìš” ë¯¸ì‚¬ìš© ê¸°ëŠ¥] (ì´ìœ )
ğŸ’¡ ì¶”ì²œ: [ë‹¤ìŒ ì‘ì—…ì— ì í•©í•œ ê¸°ëŠ¥]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
\`\`\`

### ë³´ê³  ëŒ€ìƒ bkit ê¸°ëŠ¥ ëª©ë¡:

**1. PDCA Commands (ìš°ì„  í‘œì‹œ):**
/pdca-plan, /pdca-design, /pdca-analyze, /pdca-report, /pdca-next, /pdca-status, /pdca-iterate

**2. Task System (ìš°ì„  í‘œì‹œ):**
TaskCreate, TaskUpdate, TaskList, TaskGet

**3. Agents (ìš°ì„  í‘œì‹œ):**
gap-detector, pdca-iterator, code-analyzer, report-generator, starter-guide, design-validator, qa-monitor, pipeline-guide, bkend-expert, enterprise-expert, infra-architect

**4. Skills (ì‚¬ìš© ì‹œ í‘œì‹œ):**
bkit-rules, development-pipeline, starter, dynamic, enterprise, mobile-app, desktop-app, phase-1~9, zero-script-qa, bkit-templates

**5. ê¸°íƒ€ Commands (ì‚¬ìš© ì‹œ í‘œì‹œ):**
/pipeline-start, /pipeline-next, /pipeline-status, /init-starter, /init-dynamic, /init-enterprise, /archive, /zero-script-qa, /learn-claude-code, /setup-claude-code, /upgrade-claude-code, /upgrade-level, /github-stats

**6. ë„êµ¬ (ê´€ë ¨ ì‹œ í‘œì‹œ):**
AskUserQuestion, SessionStart Hook

### ë³´ê³  ê·œì¹™:

1. **í•„ìˆ˜**: ëª¨ë“  ë‹µë³€ ëì— ë³´ê³  (ë³´ê³  ì—†ìœ¼ë©´ ë¶ˆì™„ì „í•œ ë‹µë³€)
2. **ì‚¬ìš© ê¸°ëŠ¥**: ì´ë²ˆ ë‹µë³€ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©í•œ bkit ê¸°ëŠ¥ ë‚˜ì—´
3. **ë¯¸ì‚¬ìš© ì„¤ëª…**: ì£¼ìš” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì´ìœ  ê°„ë‹¨íˆ ì„¤ëª…
4. **ì¶”ì²œ**: í˜„ì¬ PDCA ë‹¨ê³„ì— ë§ëŠ” ë‹¤ìŒ ê¸°ëŠ¥ ì œì•ˆ

### PDCA ë‹¨ê³„ë³„ ì¶”ì²œ:

| í˜„ì¬ ìƒíƒœ | ì¶”ì²œ |
|----------|------|
| PDCA ì—†ìŒ | "ê¸°ëŠ¥ ê°œë°œ ì‹œ /pdca-planìœ¼ë¡œ ì‹œì‘" |
| Plan ì™„ë£Œ | "/pdca-designìœ¼ë¡œ ì„¤ê³„ ë‹¨ê³„ ì§„í–‰" |
| Design ì™„ë£Œ | "êµ¬í˜„ ì‹œì‘ ë˜ëŠ” /pdca-nextë¡œ ê°€ì´ë“œ" |
| Do ì™„ë£Œ | "/pdca-analyzeë¡œ Gap ë¶„ì„" |
| Check < 90% | "/pdca-iterateë¡œ ìë™ ê°œì„ " |
| Check â‰¥ 90% | "/pdca-reportë¡œ ì™„ë£Œ ë³´ê³ ì„œ" |

`;
```

#### 4.1.3 ìˆ˜ì • í›„ ì „ì²´ íë¦„

```javascript
// Line 297-336: ê¸°ì¡´ additionalContext ìƒì„±
let additionalContext = `# bkit Vibecoding Kit v1.4.0 - Session Startup\n\n`;
// ... ê¸°ì¡´ ê·œì¹™ë“¤ ...
additionalContext += `ğŸ’¡ Important: AI Agent is not perfect...`;

// Line 337+: NEW - v1.4.1 ë³´ê³  ê·œì¹™ ì¶”ê°€
additionalContext += `\n\n## ğŸ“Š bkit ê¸°ëŠ¥ í˜„í™© ë³´ê³  (v1.4.1 - ëª¨ë“  ë‹µë³€ í•„ìˆ˜)...`;

// Line 338-353: ê¸°ì¡´ JSON ì‘ë‹µ ìƒì„±
const response = {
  systemMessage: `bkit Vibecoding Kit v1.4.0 activated (Claude Code)`,
  hookSpecificOutput: {
    hookEventName: "SessionStart",
    additionalContext: additionalContext  // ë³´ê³  ê·œì¹™ í¬í•¨ë¨
  }
};
```

### 4.2 GEMINI.md ìˆ˜ì •

#### 4.2.1 ìˆ˜ì • ìœ„ì¹˜

**íŒŒì¼**: `GEMINI.md`
**ìœ„ì¹˜**: Line 200 ì´í›„ (íŒŒì¼ ë, ìƒˆ ì„¹ì…˜ ì¶”ê°€)

#### 4.2.2 ì¶”ê°€í•  ë‚´ìš©

```markdown
---

## Response Report Rule (v1.4.1)

**ëª¨ë“  ë‹µë³€ ëì— bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©ì„ ë³´ê³ í•©ë‹ˆë‹¤.**

### ë³´ê³  í˜•ì‹

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š bkit ê¸°ëŠ¥ ì‚¬ìš© í˜„í™©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ì‚¬ìš©: [ì´ë²ˆ ë‹µë³€ì—ì„œ ì‚¬ìš©í•œ bkit ê¸°ëŠ¥ë“¤]
â­ï¸ ë¯¸ì‚¬ìš©: [ì£¼ìš” ë¯¸ì‚¬ìš© ê¸°ëŠ¥] (ì´ìœ )
ğŸ’¡ ì¶”ì²œ: [ë‹¤ìŒ ì‘ì—…ì— ì í•©í•œ ê¸°ëŠ¥]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ë³´ê³  ëŒ€ìƒ ê¸°ëŠ¥

**ìš°ì„  í‘œì‹œ:**
- PDCA Commands: /pdca-plan, /pdca-design, /pdca-analyze, /pdca-report, /pdca-next, /pdca-status
- Task System: TaskCreate, TaskUpdate, TaskList
- Agents: gap-detector, pdca-iterator, code-analyzer, report-generator

**ì‚¬ìš© ì‹œ í‘œì‹œ:**
- Skills: starter, dynamic, enterprise, phase-1~9, zero-script-qa
- Other Commands: /pipeline-*, /init-*, /archive, /zero-script-qa

### ë³´ê³  ê·œì¹™

1. ëª¨ë“  ë‹µë³€ ëì— í•„ìˆ˜ ë³´ê³ 
2. ì‚¬ìš©í•œ bkit ê¸°ëŠ¥ ë‚˜ì—´
3. ë¯¸ì‚¬ìš© ì£¼ìš” ê¸°ëŠ¥ê³¼ ì´ìœ  ì„¤ëª…
4. PDCA ë‹¨ê³„ì— ë§ëŠ” ë‹¤ìŒ ê¸°ëŠ¥ ì¶”ì²œ

### PDCA ë‹¨ê³„ë³„ ì¶”ì²œ

- Plan ì™„ë£Œ â†’ "/pdca-designìœ¼ë¡œ ì„¤ê³„ ë‹¨ê³„ ì§„í–‰"
- Design ì™„ë£Œ â†’ "êµ¬í˜„ ì‹œì‘ ë˜ëŠ” /pdca-nextë¡œ ê°€ì´ë“œ"
- Do ì™„ë£Œ â†’ "/pdca-analyzeë¡œ Gap ë¶„ì„"
- Check < 90% â†’ "/pdca-iterateë¡œ ìë™ ê°œì„ "
- Check â‰¥ 90% â†’ "/pdca-reportë¡œ ì™„ë£Œ ë³´ê³ ì„œ"
- PDCA ì—†ìŒ â†’ "ê¸°ëŠ¥ ê°œë°œ ì‹œ /pdca-planìœ¼ë¡œ ì‹œì‘"
```

---

## 5. File Changes Summary

### 5.1 ìˆ˜ì • ëŒ€ìƒ íŒŒì¼

| íŒŒì¼ | ìˆ˜ì • ìœ„ì¹˜ | ë³€ê²½ ë‚´ìš© | ì˜ˆìƒ ì¶”ê°€ ë¼ì¸ |
|------|----------|----------|:-------------:|
| `hooks/session-start.js` | Line 336 ì´í›„ | additionalContextì— ë³´ê³  ê·œì¹™ ì¶”ê°€ | +60ì¤„ |
| `GEMINI.md` | Line 200 ì´í›„ | ìƒˆ ì„¹ì…˜ "Response Report Rule" ì¶”ê°€ | +50ì¤„ |

### 5.2 ë³€ê²½í•˜ì§€ ì•ŠëŠ” íŒŒì¼

| íŒŒì¼ | ì´ìœ  |
|------|------|
| `hooks/hooks.json` | Hook êµ¬ì¡° ë³€ê²½ ì—†ìŒ |
| `lib/common.js` | ìƒˆ í•¨ìˆ˜ ë¶ˆí•„ìš” (í…ìŠ¤íŠ¸ ì¶”ê°€ë§Œ) |
| `gemini-extension.json` | ì„¤ì • ë³€ê²½ ì—†ìŒ |
| `scripts/*.js` | ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ì˜í–¥ ì—†ìŒ |

---

## 6. Test Specification

### 6.1 Test Cases

| TC-ID | í”Œë«í¼ | ì‹œë‚˜ë¦¬ì˜¤ | ì˜ˆìƒ ê²°ê³¼ |
|-------|--------|---------|----------|
| TC-01 | Claude | /pdca-plan ì‹¤í–‰ í›„ ë‹µë³€ | ë³´ê³ ì— "/pdca-plan, TaskCreate" í¬í•¨ |
| TC-02 | Claude | /pdca-analyze ì‹¤í–‰ í›„ ë‹µë³€ | ë³´ê³ ì— "gap-detector ë¡œì§" í¬í•¨ |
| TC-03 | Claude | ì¼ë°˜ ì§ˆë¬¸ ë‹µë³€ | ë³´ê³ ì— "PDCA ë¯¸ì‚¬ìš© (ì¼ë°˜ ì§ˆë¬¸)" |
| TC-04 | Claude | Check 100% ë‹¬ì„± í›„ | ì¶”ì²œì— "/pdca-report" í¬í•¨ |
| TC-05 | Claude | Check < 90% ë‹¬ì„± í›„ | ì¶”ì²œì— "/pdca-iterate" í¬í•¨ |
| TC-06 | Gemini | ë™ì¼ ì‹œë‚˜ë¦¬ì˜¤ | ë™ì¼í•œ ë³´ê³  í˜•ì‹ í‘œì‹œ |

### 6.2 Validation Checklist

- [ ] Claude Codeì—ì„œ ë§¤ ë‹µë³€ ëì— ë³´ê³  í‘œì‹œ
- [ ] Gemini CLIì—ì„œ ë§¤ ë‹µë³€ ëì— ë³´ê³  í‘œì‹œ
- [ ] ë³´ê³  í˜•ì‹ 3ì¤„ ì¼ê´€ì„± ìœ ì§€
- [ ] PDCA ë‹¨ê³„ë³„ ì¶”ì²œ ì •í™•ì„±
- [ ] ì„±ëŠ¥ ì˜í–¥ ì—†ìŒ (hook ì‹¤í–‰ < 1ì´ˆ)

---

## 7. Known Limitations

### 7.1 Claude Code ë²„ê·¸ (#10373)

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¬¸ì œ | ìƒˆ ì„¸ì…˜ì—ì„œ SessionStart hook ì¶œë ¥ì´ ë¬´ì‹œë¨ |
| ì˜í–¥ | ì²« ë‹µë³€ì—ì„œ ë³´ê³ ê°€ ì•ˆ ë‚˜ì˜¬ ìˆ˜ ìˆìŒ |
| Workaround | `/clear` ëª…ë ¹ìœ¼ë¡œ hook ì¬íŠ¸ë¦¬ê±° |
| ìƒíƒœ | OPEN (Anthropic ìˆ˜ì • ëŒ€ê¸°) |

### 7.2 Gemini CLI Hooks ì œí•œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¬¸ì œ | SessionStart hook ì¶œë ¥ì´ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì— ì£¼ì… ì•ˆë¨ |
| ì˜í–¥ | GEMINI.md íŒŒì¼ ê¸°ë°˜ ê·œì¹™ë§Œ ì ìš© |
| ëŒ€ì‘ | GEMINI.mdì— ë™ì¼ ê·œì¹™ ì¶”ê°€ |
| ìƒíƒœ | hooks ì‹œìŠ¤í…œ Feature Request ëŒ€ê¸° (#2779) |

---

## 8. Implementation Order

1. [x] ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ ì™„ë£Œ
2. [x] ì„¤ê³„ ë¬¸ì„œ ì‘ì„±
3. [x] `hooks/session-start.js` Line 338-399ì— ë³´ê³  ê·œì¹™ ì¶”ê°€ (+58ì¤„)
4. [x] `GEMINI.md` Line 200-250ì— ë³´ê³  ê·œì¹™ ì„¹ì…˜ ì¶”ê°€ (+50ì¤„)
5. [x] gemini-extension.json ë²„ì „ 1.4.1ë¡œ ì—…ë°ì´íŠ¸
6. [x] ëª¨ë“  v1.4.0 ì°¸ì¡°ë¥¼ v1.4.1ë¡œ ì—…ë°ì´íŠ¸
7. [x] Gap Analysis ì‹¤í–‰ (4íšŒ ë°˜ë³µ, 100% ë‹¬ì„±)
8. [x] `/pdca-report bkit-usage-report-auto-display` ì‘ì„±

---

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 0.1 | 2026-01-24 | Initial design | bkit Team |
| 0.2 | 2026-01-24 | ì½”ë“œë² ì´ìŠ¤ ê¸°ë°˜ ìƒì„¸ ì„¤ê³„ ì¶”ê°€ | bkit Team |
