# v1.4.5 Namespace Skill Refactoring Plan

> PDCA Plan Document - 네임스페이스 Skill 호출 패턴 정리 및 일관성 개선

## 1. 개요

### 1.1 배경
- bkit 플러그인 v1.4.2에서 `/bkit:*` 네임스페이스 형식으로 skill 호출을 설계
- v1.4.4에서 `/bkit` hub command와 직접 호출(`/pdca`, `/starter` 등)로 마이그레이션
- 그러나 문서와 일부 코드에 레거시 네임스페이스 패턴이 잔존
- 문서와 실제 구현 간의 불일치로 사용자 혼란 발생 가능

### 1.2 목표
- 모든 문서에서 레거시 네임스페이스 패턴을 현재 아키텍처에 맞게 정리
- `Skill("bkit:*")` 호출과 사용자 인터페이스 구분 명확화
- 일관된 문서 표기법 확립

### 1.3 범위

| 항목 | 포함 여부 | 설명 |
|------|----------|------|
| 설계 문서 정리 | ✅ | bkit-hub-command.design.md 등 |
| 레거시 문서 표시 | ✅ | archive 폴더 문서에 레거시 명시 |
| command 파일 정리 | ✅ | menu.md 네임스페이스 참조 정리 |
| 보고서 업데이트 | ✅ | skills-autocomplete-research 정리 |
| 실제 구현 변경 | ❌ | 이미 올바르게 구현됨 |

---

## 2. 현황 분석 (As-Is)

### 2.1 발견된 네임스페이스 패턴

#### Pattern 1: `/bkit:` 레거시 형식 (16개+)
```
위치: /docs/archive/legacy/02-BKIT-PLUGIN-DESIGN.md
예시: /bkit:pdca-plan, /bkit:learn-claude-code
상태: 폐기됨 (v1.4.2 유산)
```

#### Pattern 2: `bkit:` 설계 문서 참조 (25개+)
```
위치: /docs/02-design/features/bkit-hub-command.design.md
예시: "bkit:pdca", "bkit:starter"
상태: 활성 (내부 라우팅 설명용)
```

#### Pattern 3: `Skill("bkit:*")` 도구 호출 (6개)
```
위치: /docs/02-design/features/bkit-hub-command.design.md
예시: Skill("bkit:pdca", "plan login")
상태: 설계 문서 내 메커니즘 설명용
```

#### Pattern 4: `/bkit:menu` 특수 참조 (1개)
```
위치: /commands/menu.md 라인 7
상태: 현재 유지 중 (자동완성 보완용)
```

### 2.2 문제점

| 문제 | 영향 | 우선순위 |
|------|------|---------|
| 문서-구현 불일치 | 사용자 혼란 | 높음 |
| 레거시 패턴 잔존 | 유지보수 복잡성 | 중간 |
| 표기법 비일관성 | 학습 곡선 증가 | 중간 |
| 내부 로직 vs UI 구분 미흡 | 오해 가능성 | 높음 |

---

## 3. 목표 상태 (To-Be)

### 3.1 통일된 표기법

#### 사용자 인터페이스 (User-facing)
```markdown
직접 호출: /pdca, /starter, /code-review
Hub 호출: /bkit pdca plan, /bkit init starter
```

#### 내부 구현 (Internal)
```markdown
Skill 도구 호출: Skill("bkit:pdca", "args")
→ 항상 "내부 구현" 또는 "라우팅 로직"으로 명시
```

### 3.2 문서 정리 원칙

1. **현재 문서**: 레거시 네임스페이스 제거 또는 명확한 주석 추가
2. **아카이브 문서**: "레거시 v1.4.2" 배너 추가
3. **설계 문서**: 내부 로직 vs 사용자 인터페이스 구분 명확화

---

## 4. 요구사항

### 4.1 기능 요구사항

| ID | 요구사항 | 우선순위 |
|----|---------|---------|
| FR-01 | bkit-hub-command.design.md에서 내부 로직/UI 구분 주석 추가 | 필수 |
| FR-02 | menu.md의 `/bkit:menu` 참조를 `/menu`로 변경 | 필수 |
| FR-03 | skills-autocomplete-research 보고서 업데이트 | 권장 |
| FR-04 | 레거시 문서에 폐기 배너 추가 | 권장 |
| FR-05 | 문서 표기법 가이드라인 작성 | 선택 |

### 4.2 비기능 요구사항

| ID | 요구사항 |
|----|---------|
| NFR-01 | 기존 기능에 영향 없음 (문서만 변경) |
| NFR-02 | 5분 이내 작업 완료 가능 |
| NFR-03 | 버전 히스토리 추적 가능 |

---

## 5. 작업 계획

### Phase 1: 필수 정리 (FR-01, FR-02)
- [ ] bkit-hub-command.design.md 내부 로직 구분 주석 추가
- [ ] menu.md `/bkit:menu` → `/menu` 변경

### Phase 2: 권장 정리 (FR-03, FR-04)
- [ ] skills-autocomplete-research 보고서 현행화
- [ ] 레거시 문서 폐기 배너 추가

### Phase 3: 선택 정리 (FR-05)
- [ ] 문서 표기법 가이드라인 작성 (필요시)

---

## 6. 위험 요소

| 위험 | 영향 | 완화 방안 |
|------|------|----------|
| 문서 변경으로 인한 혼란 | 낮음 | 점진적 변경, 명확한 주석 |
| 레거시 문서 참조 끊김 | 낮음 | 아카이브는 그대로 유지 |

---

## 7. 성공 기준

- [ ] 현재 문서에서 레거시 네임스페이스 직접 사용 0건
- [ ] 내부 로직과 사용자 인터페이스 명확히 구분됨
- [ ] `/menu` command가 올바른 형식으로 안내

---

**작성일**: 2026-01-27
**작성자**: Claude (PDCA Plan)
**버전**: v1.0.0
